Neural Network Tools for STM32AI v1.6.0 (STM.ai v7.1.0-RC3)
Created date          : 2022-05-31 22:34:39
Parameters            : generate --name all -m D:/all.tflite --type tflite --compression 1 --verbosity 1 --workspace C:\Users\DOUKAN~1\AppData\Local\Temp\mxAI_workspace46103720497150012367418361181319308 --output C:\Users\Doðukan\.stm32cubemx\all_output

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : D:\all.tflite
type                  : tflite
c_name                : all
compression           : None
workspace dir         : C:\Users\DOUKAN~1\AppData\Local\Temp\mxAI_workspace46103720497150012367418361181319308
output dir            : C:\Users\Doðukan\.stm32cubemx\all_output
model_name            : all
model_hash            : f3909530d4216ad4b15bb3feb8dec938
input 1/1             : 'serving_default_conv2d_10_input0'
                        1392 items, 5.44 KiB, ai_float, float, (1,87,16,1), domain:user/
output 1/1            : 'nl_11'
                        6 items, 24 B, ai_float, float, (1,1,1,6), domain:user/
params #              : 22,438 items (87.65 KiB)
macc                  : 347,104
weights (ro)          : 89,752 B (87.65 KiB) (1 segment)
activations (rw)      : 13,312 B (13.00 KiB) (1 segment)
ram (total)           : 18,904 B (18.46 KiB) = 13,312 + 5,568 + 24

Model name - all ['serving_default_conv2d_10_input0'] ['nl_11']
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                                                          oshape          param/size      macc      connected to                                            |   c_size          c_macc             c_type               
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_conv2d_10_input0 (Input)                              (1,87,16,1)                                                                                       |                                     
     conv2d_0 (Conv2D)                                                     (1,44,8,32)     320/1,280       101,408   serving_default_conv2d_10_input0                        |                   +22,528(+22.2%)    optimized_conv2d()[0]
     nl_0_nl (Nonlinearity)                                                (1,44,8,32)                     11,264    conv2d_0                                                |                   -11,264(-100.0%)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    pool_1 (Pool)                                                         (1,22,4,32)                     11,264    nl_0_nl                                                 |                   -11,264(-100.0%)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    sequential_5_batch_normalization_10_FusedBatchNormV3 (Placeholder)    (None,1,1,32)   32/128                                                                            |   -128(-100.0%)                     
     eltwise_2 (Eltwise)                                                   (1,22,4,32)                     2,816     pool_1                                                  |                   -2,816(-100.0%)   
                                                                                                                     sequential_5_batch_normalization_10_FusedBatchNormV3    |  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    sequential_5_batch_normalization_10_FusedBatchNormV31 (Placeholder)   (None,1,1,32)   32/128                                                                            |   -128(-100.0%)                     
     eltwise_3 (Eltwise)                                                   (1,22,4,32)                     2,816     eltwise_2                                               |   +256(+100.0%)   +2,816(+100.0%)    bn()[1]              
                                                                                                                     sequential_5_batch_normalization_10_FusedBatchNormV31   |  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    conv2d_4 (Conv2D)                                                     (1,11,2,32)     9,248/36,992    202,784   eltwise_3                                               |                   +1,472(+0.7%)      optimized_conv2d()[2]
     nl_4_nl (Nonlinearity)                                                (1,11,2,32)                     704       conv2d_4                                                |                   -704(-100.0%)     
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    pool_5 (Pool)                                                         (1,6,1,32)                      768       nl_4_nl                                                 |                   -768(-100.0%)     
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    sequential_5_batch_normalization_11_FusedBatchNormV3 (Placeholder)    (None,1,1,32)   32/128                                                                            |   -128(-100.0%)                     
     eltwise_6 (Eltwise)                                                   (1,6,1,32)                      192       pool_5                                                  |                   -192(-100.0%)     
                                                                                                                     sequential_5_batch_normalization_11_FusedBatchNormV3    |  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    sequential_5_batch_normalization_11_FusedBatchNormV31 (Placeholder)   (None,1,1,32)   32/128                                                                            |   -128(-100.0%)                     
     eltwise_7 (Eltwise)                                                   (1,6,1,32)                      192       eltwise_6                                               |   +256(+100.0%)   +192(+100.0%)      bn()[3]              
                                                                                                                     sequential_5_batch_normalization_11_FusedBatchNormV31   |  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    reshape_8 (Reshape)                                                   (1,1,1,192)                               eltwise_7                                               |                                     
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
9    dense_9 (Dense)                                                       (1,1,1,64)      12,352/49,408   12,352    reshape_8                                               |                                      dense()[4]           
     nl_9_nl (Nonlinearity)                                                (1,1,1,64)                      64        dense_9                                                 |                                      nl()[5]              
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10   dense_10 (Dense)                                                      (1,1,1,6)       390/1,560       390       nl_9_nl                                                 |                                      dense()[6]           
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
11   nl_11 (Nonlinearity)                                                  (1,1,1,6)                       90        dense_10                                                |                                      nl()/o[7]            
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=347,104/347,104  weights=89,752/89,752  activations=--/13,312 io=--/5,592



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : all
c-name                : all
c-node #              : 8
c-array #             : 23
activations size      : 13312 (1 segments)
weights size          : 89752 (1 segments)
macc                  : 347104
inputs                : ['serving_default_conv2d_10_input0_output']
outputs               : ['nl_11_output']

C-Arrays (23)
-----------------------------------------------------------------------------------------------------------------------
c_id   name (*_array)                            item/size     domain/mem-pool           c-type        fmt     comment
-----------------------------------------------------------------------------------------------------------------------
0      serving_default_conv2d_10_input0_output   1392/5568     user/                     float         float   /input 
1      conv2d_0_output                           2816/11264    activations/**default**   float         float          
2      eltwise_3_output                          2816/11264    activations/**default**   float         float          
3      conv2d_4_output                           192/768       activations/**default**   float         float          
4      eltwise_7_output                          192/768       activations/**default**   float         float          
5      dense_9_output                            64/256        activations/**default**   float         float          
6      nl_9_nl_output                            64/256        activations/**default**   float         float          
7      dense_10_output                           6/24          activations/**default**   float         float          
8      nl_11_output                              6/24          user/                     float         float   /output
9      conv2d_0_weights                          288/1152      weights/                  const float   float          
10     conv2d_0_bias                             32/128        weights/                  const float   float          
11     eltwise_3_scale                           32/128        weights/                  const float   float          
12     eltwise_3_bias                            32/128        weights/                  const float   float          
13     conv2d_4_weights                          9216/36864    weights/                  const float   float          
14     conv2d_4_bias                             32/128        weights/                  const float   float          
15     eltwise_7_scale                           32/128        weights/                  const float   float          
16     eltwise_7_bias                            32/128        weights/                  const float   float          
17     dense_9_weights                           12288/49152   weights/                  const float   float          
18     dense_9_bias                              64/256        weights/                  const float   float          
19     dense_10_weights                          384/1536      weights/                  const float   float          
20     dense_10_bias                             6/24          weights/                  const float   float          
21     conv2d_0_scratch0                         512/2048      activations/**default**   float         float          
22     conv2d_4_scratch0                         128/512       activations/**default**   float         float          
-----------------------------------------------------------------------------------------------------------------------

C-Layers (8)
--------------------------------------------------------------------------------------------------------------------------------
c_id   name (*_layer)   id   layer_type         macc     rom     tensors                                      shape (array id) 
--------------------------------------------------------------------------------------------------------------------------------
0      conv2d_0         1    optimized_conv2d   123936   1280    I: serving_default_conv2d_10_input0_output   (1,87,16,1) (0)  
                                                                 S: conv2d_0_scratch0                                          
                                                                 W: conv2d_0_weights                          (1,32,3,3) (9)   
                                                                 W: conv2d_0_bias                             (1,1,1,32) (10)  
                                                                 O: conv2d_0_output                           (1,22,4,32) (1)  
--------------------------------------------------------------------------------------------------------------------------------
1      eltwise_3        3    bn                 5632     256     I: conv2d_0_output                           (1,22,4,32) (1)  
                                                                 W: eltwise_3_scale                           (1,1,1,32) (11)  
                                                                 W: eltwise_3_bias                            (1,1,1,32) (12)  
                                                                 O: eltwise_3_output                          (1,22,4,32) (2)  
--------------------------------------------------------------------------------------------------------------------------------
2      conv2d_4         5    optimized_conv2d   204256   36992   I: eltwise_3_output                          (1,22,4,32) (2)  
                                                                 S: conv2d_4_scratch0                                          
                                                                 W: conv2d_4_weights                          (32,32,3,3) (13) 
                                                                 W: conv2d_4_bias                             (1,1,1,32) (14)  
                                                                 O: conv2d_4_output                           (1,6,1,32) (3)   
--------------------------------------------------------------------------------------------------------------------------------
3      eltwise_7        7    bn                 384      256     I: conv2d_4_output                           (1,6,1,32) (3)   
                                                                 W: eltwise_7_scale                           (1,1,1,32) (15)  
                                                                 W: eltwise_7_bias                            (1,1,1,32) (16)  
                                                                 O: eltwise_7_output                          (1,6,1,32) (4)   
--------------------------------------------------------------------------------------------------------------------------------
4      dense_9          9    dense              12352    49408   I: eltwise_7_output0                         (1,1,1,192) (4)  
                                                                 W: dense_9_weights                           (192,1,1,64) (17)
                                                                 W: dense_9_bias                              (1,1,1,64) (18)  
                                                                 O: dense_9_output                            (1,1,1,64) (5)   
--------------------------------------------------------------------------------------------------------------------------------
5      nl_9_nl          9    nl                 64       0       I: dense_9_output                            (1,1,1,64) (5)   
                                                                 O: nl_9_nl_output                            (1,1,1,64) (6)   
--------------------------------------------------------------------------------------------------------------------------------
6      dense_10         10   dense              390      1560    I: nl_9_nl_output                            (1,1,1,64) (6)   
                                                                 W: dense_10_weights                          (64,1,1,6) (19)  
                                                                 W: dense_10_bias                             (1,1,1,6) (20)   
                                                                 O: dense_10_output                           (1,1,1,6) (7)    
--------------------------------------------------------------------------------------------------------------------------------
7      nl_11            11   nl                 90       0       I: dense_10_output                           (1,1,1,6) (7)    
                                                                 O: nl_11_output                              (1,1,1,6) (8)    
--------------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=347,104 weights=89,752 act=13,312 ram_io=5,592
--------------------------------------------------------------------------
id   name        c_macc                    c_rom                     c_id
--------------------------------------------------------------------------
0    conv2d_0    ||||||||||        35.7%   |                  1.4%   [0] 
3    eltwise_3   |                  1.6%   |                  0.3%   [1] 
4    conv2d_4    ||||||||||||||||  58.8%   ||||||||||||      41.2%   [2] 
7    eltwise_7   |                  0.1%   |                  0.3%   [3] 
9    dense_9     |                  3.6%   ||||||||||||||||  55.0%   [4] 
9    nl_9_nl     |                  0.0%   |                  0.0%   [5] 
10   dense_10    |                  0.1%   |                  1.7%   [6] 
11   nl_11       |                  0.0%   |                  0.0%   [7] 

Generated files (5)
---------------------------------------------------------------
C:\Users\Doðukan\.stm32cubemx\all_output\all_config.h
C:\Users\Doðukan\.stm32cubemx\all_output\all.h
C:\Users\Doðukan\.stm32cubemx\all_output\all.c
C:\Users\Doðukan\.stm32cubemx\all_output\all_data.h
C:\Users\Doðukan\.stm32cubemx\all_output\all_data.c
